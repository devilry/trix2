# https://tox.readthedocs.io/en/latest/

[tox]
envlist =
	py36,
	py37,
	py311,
	flake8


[testenv]
setenv =
	DJANGOENV=test
commands =
    python manage.py test trix
deps =
	-rrequirements/develop.txt


# Run the tests with python 3.6
[testenv:py36]
basepython = python3.6

# Run the tests with python 3.7.13
[testenv:py37]
basepython = python3.7.13

[testenv:py311]
basepython = python3.11


# Run the flake8 code quality checks
[testenv:flake8]
basepython = python
commands =
	flake8


# Configuration for flake8
[flake8]
max-line-length = 120

# Excludes:
# - exclude dev/data.py because that is autogenerated
# - exclude bower_components because some of the components contain .py files.
exclude = .git,.tox,__pycache,bower_components,trix/project/develop/dumps/dev/data.py,docs/conf.py,\
		  **/migrations/*

# See http://flake8.pycqa.org/en/latest/user/error-codes.html
ignore = F403
